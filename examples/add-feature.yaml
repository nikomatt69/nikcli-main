name: "add-feature"
agent: "universal-agent"
goals:
  - "Implementa la feature richiesta seguendo le best practices"
  - "Aggiungi test appropriati"
  - "Aggiorna la documentazione se necessario"
limits:
  max_tool_calls: 100
  max_time_minutes: 60
  max_memory_mb: 4096
policy:
  approve_commands: false
  network_allow:
    - "registry.npmjs.org"
    - "yarnpkg.com"
    - "github.com"
    - "api.openai.com"
  safe_mode: true
steps:
  - run: "nikcli /analyze-project"
    timeout_minutes: 5
  - run: "nikcli /auto 'analizza il progetto e implementa la feature richiesta con test e documentazione'"
    timeout_minutes: 45
  - run: "yarn build"
    retry_on_failure: true
    timeout_minutes: 5
  - run: "yarn test"
    retry_on_failure: true
    timeout_minutes: 5
  - run: "yarn lint"
    retry_on_failure: false
    timeout_minutes: 2
commit:
  message: "feat: implementa nuova feature (nikCLI background agent)"
  open_pr: true
  reviewers: ["@product-team", "@tech-lead"]
  labels: ["feature", "automated"]
  draft: true
