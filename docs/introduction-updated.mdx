# NikCLI Universal Agent - Introduction

Welcome to the **NikCLI Universal Agent**, an advanced AI-powered autonomous development environment designed for full-stack development, DevOps, analysis, optimization, and intelligent coding workflows. This project leverages the Express framework for its robust server-side architecture, enabling seamless API handling and middleware integration in a Node.js ecosystem.

## Current Project Metrics (v0.2.3)
As of version **0.2.3**, the project has evolved significantly:
- **Dependencies**: 115 total packages managed via NPM, ensuring comprehensive support for TypeScript, AI integrations, and CLI tools.
- **Framework**: Built on [Express](https://expressjs.com/) (v4.x), providing lightweight, flexible routing and middleware for handling development tasks efficiently.
- **Git Changes**: 38 commits in the recent history, focusing on enhancements to CLI orchestration, agent coordination, and workspace intelligence.
- **Recent Files & Modules**:
  - `bin/cli.ts`: Core entry point for the command-line interface, handling task parsing and execution.
  - Vim-related modules (e.g., `modules/vim-integration.ts`): Custom integrations for editor-aware operations, including syntax highlighting and plugin management for development workflows.

This release emphasizes cognitive orchestration, adaptive execution strategies, and integration with specialized agents (e.g., React Agent, Backend Agent, DevOps Agent).

## Key Features
- **Autonomous Task Execution**: Powered by TaskMaster AI for intelligent planning and breakdown of complex development tasks.
- **Specialized Agents**: Domain-specific AI agents for frontend, backend, DevOps, code review, and optimization.
- **Tool Ecosystem**: Full access to file operations, Git integration, package management, build systems, and testing frameworks.
- **Cognitive Framework**: NLP-based intent extraction, complexity assessment, and hybrid orchestration strategies.

For a deeper dive, explore the [Task Execution Protocol](task-execution-protocol.md) and [Architecture Overview](architecture.md).

## Getting Started
To set up and run the NikCLI Universal Agent:

1. Clone the repository and install dependencies:
   ```bash
   git clone <repo-url>
   cd nikcli-universal-agent
   npm install
   ```

2. Launch the CLI:
   ```bash
   npm run start
   ```

### Example: Express Server Setup with TypeScript
The project uses Express for its API layer. Below is a production-ready example of the core server setup in `src/server.ts`, including proper TypeScript types and comments for clarity.

```typescript
import express, { Application, Request, Response, NextFunction } from 'express';
import { TaskMasterAI } from './services/taskmaster-ai'; // Internal service for AI planning
import { errorHandler } from './middleware/error-handler'; // Custom error middleware

// Define types for request handling (production-ready: explicit typing for security and maintainability)
interface TaskRequest extends Request {
  body: {
    task: string;
    context?: Record<string, any>;
  };
}

interface TaskResponse {
  tasks: Array<{
    id: string;
    description: string;
    priority: 'high' | 'medium' | 'low';
    estimatedDuration: number; // In minutes
  }>;
  success: boolean;
}

// Initialize Express app
const app: Application = express();
const PORT: number = process.env.PORT ? parseInt(process.env.PORT, 10) : 3000;

// Middleware setup (Express pattern: JSON parsing and CORS for API endpoints)
app.use(express.json({ limit: '10mb' })); // Limit payload size for security
app.use((req: Request, res: Response, next: NextFunction) => {
  // CORS middleware (comment: Enables cross-origin requests in development)
  res.header('Access-Control-Allow-Origin', '*');
  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');
  next();
});

// Route for task generation (core endpoint: Integrates with TaskMaster AI)
app.post('/generate-tasks', async (req: TaskRequest, res: Response<TaskResponse>) => {
  try {
    // Extract task intent (comment: Uses cognitive analysis for complexity assessment)
    const { task, context } = req.body;
    const taskMaster = new TaskMasterAI();
    
    // Generate 5-8 subtasks (production-ready: Error handling for AI failures with fallbacks)
    const generatedTasks = await taskMaster.generateTasksWithAI(task, context);
    
    if (!generatedTasks || generatedTasks.length === 0) {
      // Fallback: Create basic tasks if AI generation fails
      const fallbackTasks = [
        { id: '1', description: 'Parse task intent', priority: 'high', estimatedDuration: 2 },
        { id: '2', description: 'Break down into subtasks', priority: 'medium', estimatedDuration: 5 },
        // ... (up to 5-8 tasks)
      ];
      return res.json({ tasks: fallbackTasks, success: true });
    }
    
    res.json({ tasks: generatedTasks, success: true });
  } catch (error) {
    // Complex logic: Propagate to global error handler (comment: Ensures consistent error responses)
    next(error);
  }
});

// Error handling middleware (Express pattern: Centralized error management)
app.use(errorHandler);

// Health check endpoint (production-ready: For monitoring and debugging)
app.get('/health', (req: Request, res: Response) => {
  res.status(200).json({ status: 'healthy', version: '0.2.3', uptime: process.uptime() });
});

// Start server (comment: Graceful shutdown handling recommended in production)
app.listen(PORT, () => {
  console.log(`NikCLI Universal Agent server running on port ${PORT}`);
});

export default app;
```

This setup follows Express best practices: modular middleware, typed requests/responses, and comprehensive error handling. For full TypeScript configuration, refer to `tsconfig.json` with strict mode enabled.

## Contributing
Recent changes (38 Git commits) include optimizations to `bin/cli.ts` for better CLI parsing and Vim module enhancements for editor integrations. Contributions are welcomeâ€”fork the repo, create a feature branch, and submit a PR.

For issues or feedback, open a ticket on GitHub.

---

*Last Updated: v0.2.3*  
*Dependencies Analyzed: 115*  
*Framework: Express*